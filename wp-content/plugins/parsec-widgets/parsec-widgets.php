<?php/* Plugin Name: Parsec Widgets Plugin URI: http://casabona.org/parsec Description: This plugin creates custom widgets. Author: Joe Casabona Version: 1.0 Author URI: http://casabona.org/*///This is a place for general stuff and whatnot. // Prevent direct file accessif ( ! defined ( 'ABSPATH' ) ) {	exit;}define( 'PARSEC_WIDGETS_PATH', plugin_dir_path( __FILE__ ) );define( 'PARSEC_WIDGETS_URL', plugin_dir_url( __FILE__ ) );include_once( PARSEC_WIDGETS_PATH . 'inc/ParsecRecentPost.php' );include_once( PARSEC_WIDGETS_PATH . 'inc/ParsecProjects.php' );function parsec_register_widgets() {	register_widget( 'Parsec_Recent_Post' );  register_widget( 'Parsec_Projects' );}add_action( 'widgets_init', 'parsec_register_widgets' );/** Usful Functions **/function parsec_latest_post() {	echo parsec_get_latest_post();}function parsec_get_latest_post() {	$latest = wp_get_recent_posts( array( 'number_posts' => 1 ) );	$latest = $latest[0];	$format = '<div class="latest-post">			<h3><a href="%1$s" title="%2$s">%2$s</a></h3>			<div class="latest-content">				%3$s			</div>		</div>		<a class="button more-link" href="%1$s" title="%2$s">Read More</a>';		$output = sprintf( $format,			get_permalink( $latest['ID'] ),			esc_attr( $latest['post_title'] ),			apply_filters( 'the_content', wp_trim_words( $latest['post_content'] ) )		);		return $output;}